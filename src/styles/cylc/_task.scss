.c-task {

  $foreground: rgb(90,90,90);
  $background: rgb(255,255,255);

  @mixin disk() {
    #outline {
      stroke: $foreground;
      fill: $foreground;
    }
  }

  @mixin outline() {
    #outline {
      stroke: $foreground;
    }
  }

  @mixin dot() {
    #dot {
      fill: $foreground;
    }
  }

  @mixin hub() {
    #hub {
      fill: $foreground;
    }
  }

  @mixin progress() {
    #progress {
      fill: transparent;
      stroke: $foreground;
      transform-origin: 50% 50%;
      transform: rotate(-90deg);
      opacity: 0.4;
    }
  }

  @mixin cross($colour) {
    #cross rect {
      fill: $colour;
    }
  }

  @mixin held() {
    #held {
      circle {
        stroke: $foreground;
        fill: $background;
      }
      rect {
        fill: $foreground;
      }
    }
  }

  @mixin unknown() {
    #question-mark {
      fill: $foreground;
    }
  }

  svg.task {
    /* scale the icon to the font-size */
    width: 1em;
    height: 1em;

    circle, rect {
      /* if no task status display nothing */
      fill: transparent;
      stroke: transparent;
    }

    /* isHeld */
    &.held {
      @include held();
    }

    /* status */
    &.waiting, &.queued {
      /* NOTE: queued tasks may acquire an xtrigger or similar */
      @include outline();
    }

    &.ready, &.preparing {
      /* TODO: by cylc 8.0.0 - remove ready state */
      @include outline();
      @include dot();
    }

    &.submitted {
      @include outline();
      @include hub();
    }

    &.running {
      @include outline();
      @include hub();
      @include progress();
    }

    &.succeeded {
      @include disk();
    }

    &.failed {
      @include disk();
      @include outline();
      @include cross($background);
    }

    &.submit-failed {
      @include outline();
      @include cross($foreground);
    }

    &.unknown {
      @include outline();
      @include unknown();
    }
  }
}
